======================================================================
 Spring Boot + JavaScript RESTful CRUD To-Do ì• í”Œë¦¬ì¼€ì´ì…˜
======================================================================

ì´ íŒŒì¼ì€ Spring Boot ë°±ì—”ë“œì™€ ìˆœìˆ˜ JavaScript í”„ë¡ íŠ¸ì—”ë“œë¡œ êµ¬ì„±ëœ To-Do ë¦¬ìŠ¤íŠ¸ ì• í”Œë¦¬ì¼€ì´ì…˜ì˜ ì „ì²´ ì†ŒìŠ¤ ì½”ë“œë¥¼ í¬í•¨í•˜ê³  ìˆìŠµë‹ˆë‹¤.

### ì‹¤í–‰ ë°©ë²•

1.  **ë°±ì—”ë“œ (Spring Boot) ì‹¤í–‰:**
    * ì•„ë˜ì˜ Java íŒŒì¼ë“¤ê³¼ `pom.xml`ì„ IDE(IntelliJ, Eclipse ë“±)ë¥¼ ì‚¬ìš©í•˜ì—¬ Spring Boot í”„ë¡œì íŠ¸ë¡œ êµ¬ì„±í•©ë‹ˆë‹¤.
    * `TodoApplication.java` íŒŒì¼ì„ ì‹¤í–‰í•˜ì—¬ ë‚´ì¥ëœ Tomcat ì„œë²„ë¥¼ ì‹œì‘í•©ë‹ˆë‹¤. (ê¸°ë³¸ í¬íŠ¸: 8080)
    * ì„œë²„ê°€ ì‹œì‘ë˜ë©´ `http://localhost:8080/h2-console`ì— ì ‘ì†í•˜ì—¬ H2 ë°ì´í„°ë² ì´ìŠ¤ë¥¼ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. (JDBC URL: `jdbc:h2:mem:testdb`, ì‚¬ìš©ìëª…: `sa`, ë¹„ë°€ë²ˆí˜¸: ë¹„ì›Œë‘ )

2.  **í”„ë¡ íŠ¸ì—”ë“œ (JavaScript) ì‹¤í–‰:**
    * `index.html`, `style.css`, `script.js` íŒŒì¼ì„ í•œ í´ë”ì— ì €ì¥í•©ë‹ˆë‹¤.
    * `index.html` íŒŒì¼ì„ ì›¹ ë¸Œë¼ìš°ì €ì—ì„œ ì—½ë‹ˆë‹¤. (VS Codeì˜ 'Live Server'ì™€ ê°™ì€ í™•ì¥ í”„ë¡œê·¸ë¨ì„ ì‚¬ìš©í•˜ë©´ í¸ë¦¬í•©ë‹ˆë‹¤.)
    * ë¸Œë¼ìš°ì € í™”ë©´ì—ì„œ To-Do ë¦¬ìŠ¤íŠ¸ë¥¼ ì¶”ê°€, ì¡°íšŒ, ìˆ˜ì •, ì‚­ì œí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

----------------------------------------------------------------------
## 1. ë°±ì—”ë“œ: Spring Boot
----------------------------------------------------------------------

### **`pom.xml` (í”„ë¡œì íŠ¸ ì˜ì¡´ì„± ê´€ë¦¬)**

<details>
<summary>pom.xml ë³´ê¸°</summary>

```xml
<?xml version="1.0" encoding="UTF-8"?>
<project xmlns="[http://maven.apache.org/POM/4.0.0](http://maven.apache.org/POM/4.0.0)" xmlns:xsi="[http://www.w3.org/2001/XMLSchema-instance](http://www.w3.org/2001/XMLSchema-instance)"
         xsi:schemaLocation="[http://maven.apache.org/POM/4.0.0](http://maven.apache.org/POM/4.0.0) [https://maven.apache.org/xsd/maven-4.0.0.xsd](https://maven.apache.org/xsd/maven-4.0.0.xsd)">
    <modelVersion>4.0.0</modelVersion>
    <parent>
        <groupId>org.springframework.boot</groupId>
        <artifactId>spring-boot-starter-parent</artifactId>
        <version>3.2.5</version> <relativePath/> </parent>
    <groupId>com.example</groupId>
    <artifactId>todo-app</artifactId>
    <version>0.0.1-SNAPSHOT</version>
    <name>todo-app</name>
    <description>Todo list application with Spring Boot</description>
    <properties>
        <java.version>17</java.version>
    </properties>
    <dependencies>
        <dependency>
            <groupId>org.springframework.boot</groupId>
            <artifactId>spring-boot-starter-web</artifactId>
        </dependency>
        <dependency>
            <groupId>org.springframework.boot</groupId>
            <artifactId>spring-boot-starter-data-jpa</artifactId>
        </dependency>
        <dependency>
            <groupId>com.h2database</groupId>
            <artifactId>h2</artifactId>
            <scope>runtime</scope>
        </dependency>
        <dependency>
            <groupId>org.projectlombok</groupId>
            <artifactId>lombok</artifactId>
            <optional>true</optional>
        </dependency>
        <dependency>
            <groupId>org.springframework.boot</groupId>
            <artifactId>spring-boot-starter-test</artifactId>
            <scope>test</scope>
        </dependency>
    </dependencies>

    <build>
        <plugins>
            <plugin>
                <groupId>org.springframework.boot</groupId>
                <artifactId>spring-boot-maven-plugin</artifactId>
                <configuration>
                    <excludes>
                        <exclude>
                            <groupId>org.projectlombok</groupId>
                            <artifactId>lombok</artifactId>
                        </exclude>
                    </excludes>
                </configuration>
            </plugin>
        </plugins>
    </build>
</project>
</details>

src/main/resources/application.properties (ì• í”Œë¦¬ì¼€ì´ì…˜ ì„¤ì •)
<details>
<summary>application.properties ë³´ê¸°</summary>

Properties

# H2 ë°ì´í„°ë² ì´ìŠ¤ ì½˜ì†” í™œì„±í™”
spring.h2.console.enabled=true
# H2 ì½˜ì†” ê²½ë¡œ ì„¤ì •
spring.h2.console.path=/h2-console

# ë°ì´í„°ë² ì´ìŠ¤ ì—°ê²° ì •ë³´ (ì¸ë©”ëª¨ë¦¬ ëª¨ë“œ)
spring.datasource.url=jdbc:h2:mem:testdb
spring.datasource.driverClassName=org.h2.Driver
spring.datasource.username=sa
spring.datasource.password=

# JPA ì„¤ì •
spring.jpa.database-platform=org.hibernate.dialect.H2Dialect
# ì• í”Œë¦¬ì¼€ì´ì…˜ ì‹¤í–‰ ì‹œ ìŠ¤í‚¤ë§ˆ ìƒì„± ë° ì´ˆê¸°í™”
spring.jpa.hibernate.ddl-auto=update
</details>

src/main/java/com/example/todoapp/model/Todo.java (ë°ì´í„° ëª¨ë¸)
<details>
<summary>Todo.java ë³´ê¸°</summary>

Java

package com.example.todoapp.model;

import jakarta.persistence.Entity;
import jakarta.persistence.GeneratedValue;
import jakarta.persistence.GenerationType;
import jakarta.persistence.Id;
import lombok.Getter;
import lombok.Setter;

@Entity // ì´ í´ë˜ìŠ¤ê°€ JPA ì—”í‹°í‹°ì„ì„ ë‚˜íƒ€ëƒ…ë‹ˆë‹¤.
@Getter   // Lombokì„ ì‚¬ìš©í•˜ì—¬ getter ë©”ì„œë“œë¥¼ ìë™ ìƒì„±í•©ë‹ˆë‹¤.
@Setter   // Lombokì„ ì‚¬ìš©í•˜ì—¬ setter ë©”ì„œë“œë¥¼ ìë™ ìƒì„±í•©ë‹ˆë‹¤.
public class Todo {

    @Id // ê¸°ë³¸ í‚¤(Primary Key) í•„ë“œì„ì„ ë‚˜íƒ€ëƒ…ë‹ˆë‹¤.
    @GeneratedValue(strategy = GenerationType.IDENTITY) // ê¸°ë³¸ í‚¤ ìƒì„±ì„ ë°ì´í„°ë² ì´ìŠ¤ì— ìœ„ì„í•©ë‹ˆë‹¤.
    private Long id;

    private String title; // í•  ì¼ì˜ ì œëª©

    private boolean completed; // í•  ì¼ì˜ ì™„ë£Œ ì—¬ë¶€
}
</details>

src/main/java/com/example/todoapp/repository/TodoRepository.java (ë°ì´í„° ì €ì¥ì†Œ)
<details>
<summary>TodoRepository.java ë³´ê¸°</summary>

Java

package com.example.todoapp.repository;

import com.example.todoapp.model.Todo;
import org.springframework.data.jpa.repository.JpaRepository;
import org.springframework.stereotype.Repository;

@Repository // ì´ ì¸í„°í˜ì´ìŠ¤ê°€ ë°ì´í„° ì €ì¥ì†Œ(Repository)ì„ì„ ë‚˜íƒ€ëƒ…ë‹ˆë‹¤.
public interface TodoRepository extends JpaRepository<Todo, Long> {
    // JpaRepositoryë¥¼ ìƒì†ë°›ì•„ ê¸°ë³¸ì ì¸ CRUD ë©”ì„œë“œ(save, findById, findAll, deleteById ë“±)ë¥¼ ìë™ìœ¼ë¡œ ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
}
</details>

src/main/java/com/example/todoapp/controller/TodoController.java (REST ì»¨íŠ¸ë¡¤ëŸ¬)
<details>
<summary>TodoController.java ë³´ê¸°</summary>

Java

package com.example.todoapp.controller;

import com.example.todoapp.model.Todo;
import com.example.todoapp.repository.TodoRepository;
import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.http.ResponseEntity;
import org.springframework.web.bind.annotation.*;

import java.util.List;
import java.util.Optional;

@RestController // ì´ í´ë˜ìŠ¤ê°€ RESTful APIì˜ ì»¨íŠ¸ë¡¤ëŸ¬ì„ì„ ë‚˜íƒ€ëƒ…ë‹ˆë‹¤.
@RequestMapping("/api/todos") // ì´ ì»¨íŠ¸ë¡¤ëŸ¬ì˜ ëª¨ë“  ìš”ì²­ì€ '/api/todos' ê²½ë¡œë¡œ ë§¤í•‘ë©ë‹ˆë‹¤.
@CrossOrigin(origins = "*") // ëª¨ë“  ë„ë©”ì¸ì—ì„œì˜ ìš”ì²­ì„ í—ˆìš©í•©ë‹ˆë‹¤ (CORS ì„¤ì •). ê°œë°œ í™˜ê²½ì—ì„œë§Œ ì‚¬ìš©ì„ ê¶Œì¥í•©ë‹ˆë‹¤.
public class TodoController {

    @Autowired // Springì´ TodoRepositoryì˜ ì¸ìŠ¤í„´ìŠ¤ë¥¼ ìë™ìœ¼ë¡œ ì£¼ì…í•©ë‹ˆë‹¤.
    private TodoRepository todoRepository;

    // READ: ëª¨ë“  To-Do í•­ëª© ì¡°íšŒ (GET /api/todos)
    @GetMapping
    public List<Todo> getAllTodos() {
        return todoRepository.findAll();
    }

    // CREATE: ìƒˆë¡œìš´ To-Do í•­ëª© ì¶”ê°€ (POST /api/todos)
    @PostMapping
    public Todo createTodo(@RequestBody Todo todo) {
        return todoRepository.save(todo);
    }

    // UPDATE: ê¸°ì¡´ To-Do í•­ëª© ìˆ˜ì • (PUT /api/todos/{id})
    @PutMapping("/{id}")
    public ResponseEntity<Todo> updateTodo(@PathVariable Long id, @RequestBody Todo todoDetails) {
        Optional<Todo> optionalTodo = todoRepository.findById(id);

        if (optionalTodo.isPresent()) {
            Todo todo = optionalTodo.get();
            todo.setTitle(todoDetails.getTitle());
            todo.setCompleted(todoDetails.isCompleted());
            final Todo updatedTodo = todoRepository.save(todo);
            return ResponseEntity.ok(updatedTodo);
        } else {
            return ResponseEntity.notFound().build();
        }
    }

    // DELETE: To-Do í•­ëª© ì‚­ì œ (DELETE /api/todos/{id})
    @DeleteMapping("/{id}")
    public ResponseEntity<Void> deleteTodo(@PathVariable Long id) {
        Optional<Todo> optionalTodo = todoRepository.findById(id);

        if (optionalTodo.isPresent()) {
            todoRepository.delete(optionalTodo.get());
            return ResponseEntity.ok().build();
        } else {
            return ResponseEntity.notFound().build();
        }
    }
}
</details>

src/main/java/com/example/todoapp/TodoApplication.java (ë©”ì¸ ì• í”Œë¦¬ì¼€ì´ì…˜)
<details>
<summary>TodoApplication.java ë³´ê¸°</summary>

Java

package com.example.todoapp;

import org.springframework.boot.SpringApplication;
import org.springframework.boot.autoconfigure.SpringBootApplication;

@SpringBootApplication // ì´ í´ë˜ìŠ¤ê°€ Spring Boot ì• í”Œë¦¬ì¼€ì´ì…˜ì˜ ì‹œì‘ì ì„ì„ ë‚˜íƒ€ëƒ…ë‹ˆë‹¤.
public class TodoApplication {

    public static void main(String[] args) {
        SpringApplication.run(TodoApplication.class, args);
    }

}
</details>

<br>

2. í”„ë¡ íŠ¸ì—”ë“œ: HTML, CSS, JavaScript
index.html (ì›¹ í˜ì´ì§€ êµ¬ì¡°)
<details>
<summary>index.html ë³´ê¸°</summary>

HTML

<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Spring Boot & JS To-Do App</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="container">
        <h1>ğŸ“ To-Do List</h1>
        <div class="input-area">
            <input type="text" id="todo-input" placeholder="ìƒˆë¡œìš´ í•  ì¼ì„ ì…ë ¥í•˜ì„¸ìš”...">
            <button id="add-btn">ì¶”ê°€</button>
        </div>
        <ul id="todo-list">
            </ul>
    </div>

    <script src="script.js"></script>
</body>
</html>
</details>

style.css (ì›¹ í˜ì´ì§€ ìŠ¤íƒ€ì¼)
<details>
<summary>style.css ë³´ê¸°</summary>

CSS

@import url('[https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@400;500;700&display=swap](https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@400;500;700&display=swap)');

body {
    font-family: 'Noto Sans KR', sans-serif;
    background-color: #f4f7f6;
    display: flex;
    justify-content: center;
    align-items: center;
    height: 100vh;
    margin: 0;
    color: #333;
}

.container {
    background-color: #fff;
    padding: 30px;
    border-radius: 12px;
    box-shadow: 0 4px 20px rgba(0, 0, 0, 0.1);
    width: 100%;
    max-width: 500px;
}

h1 {
    text-align: center;
    color: #2c3e50;
    margin-bottom: 25px;
}

.input-area {
    display: flex;
    gap: 10px;
    margin-bottom: 25px;
}

#todo-input {
    flex-grow: 1;
    padding: 12px;
    border: 2px solid #ddd;
    border-radius: 8px;
    font-size: 16px;
    transition: border-color 0.3s;
}

#todo-input:focus {
    outline: none;
    border-color: #4a90e2;
}

#add-btn {
    padding: 12px 20px;
    border: none;
    background-color: #4a90e2;
    color: white;
    font-size: 16px;
    font-weight: 500;
    border-radius: 8px;
    cursor: pointer;
    transition: background-color 0.3s;
}

#add-btn:hover {
    background-color: #357abd;
}

#todo-list {
    list-style: none;
    padding: 0;
    margin: 0;
}

.todo-item {
    display: flex;
    align-items: center;
    padding: 15px;
    border-bottom: 1px solid #eee;
    transition: background-color 0.3s;
}

.todo-item:last-child {
    border-bottom: none;
}

.todo-item:hover {
    background-color: #fafafa;
}

.todo-item span {
    flex-grow: 1;
    cursor: pointer;
    font-size: 16px;
}

.todo-item.completed span {
    text-decoration: line-through;
    color: #aaa;
}

.delete-btn {
    padding: 6px 12px;
    border: none;
    background-color: #e74c3c;
    color: white;
    font-size: 12px;
    border-radius: 6px;
    cursor: pointer;
    transition: background-color 0.3s;
}

.delete-btn:hover {
    background-color: #c0392b;
}
</details>

script.js (í”„ë¡ íŠ¸ì—”ë“œ ë¡œì§)
<details>
<summary>script.js ë³´ê¸°</summary>

JavaScript

document.addEventListener('DOMContentLoaded', () => {
    const todoInput = document.getElementById('todo-input');
    const addBtn = document.getElementById('add-btn');
    const todoList = document.getElementById('todo-list');

    const apiUrl = 'http://localhost:8080/api/todos';

    // (READ) ì„œë²„ì—ì„œ ëª¨ë“  To-Do í•­ëª©ì„ ê°€ì ¸ì™€ í™”ë©´ì— ë Œë”ë§
    const fetchTodos = async () => {
        try {
            const response = await fetch(apiUrl);
            if (!response.ok) {
                throw new Error('ì„œë²„ì—ì„œ ë°ì´í„°ë¥¼ ê°€ì ¸ì˜¤ëŠ” ë° ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤.');
            }
            const todos = await response.json();
            renderTodos(todos);
        } catch (error) {
            console.error('Fetch Error:', error);
            todoList.innerHTML = '<li>ë°ì´í„°ë¥¼ ë¶ˆëŸ¬ì˜¬ ìˆ˜ ì—†ìŠµë‹ˆë‹¤. ë°±ì—”ë“œ ì„œë²„ê°€ ì‹¤í–‰ ì¤‘ì¸ì§€ í™•ì¸í•˜ì„¸ìš”.</li>';
        }
    };

    // To-Do ë¦¬ìŠ¤íŠ¸ë¥¼ í™”ë©´ì— ê·¸ë¦¬ëŠ” í•¨ìˆ˜
    const renderTodos = (todos) => {
        todoList.innerHTML = ''; // ê¸°ì¡´ ëª©ë¡ ì´ˆê¸°í™”
        todos.forEach(todo => {
            const li = document.createElement('li');
            li.classList.add('todo-item');
            if (todo.completed) {
                li.classList.add('completed');
            }
            li.dataset.id = todo.id;

            const span = document.createElement('span');
            span.textContent = todo.title;
            // í…ìŠ¤íŠ¸ í´ë¦­ ì‹œ ì™„ë£Œ ìƒíƒœ í† ê¸€
            span.addEventListener('click', () => toggleComplete(todo));

            const deleteBtn = document.createElement('button');
            deleteBtn.textContent = 'ì‚­ì œ';
            deleteBtn.classList.add('delete-btn');
            // ì‚­ì œ ë²„íŠ¼ í´ë¦­ ì‹œ í•­ëª© ì‚­ì œ
            deleteBtn.addEventListener('click', () => deleteTodo(todo.id));

            li.appendChild(span);
            li.appendChild(deleteBtn);
            todoList.appendChild(li);
        });
    };

    // (CREATE) ìƒˆë¡œìš´ To-Do í•­ëª© ì¶”ê°€
    const addTodo = async () => {
        const title = todoInput.value.trim();
        if (title === '') {
            alert('í•  ì¼ì„ ì…ë ¥í•˜ì„¸ìš”.');
            return;
        }

        const newTodo = {
            title: title,
            completed: false
        };

        try {
            const response = await fetch(apiUrl, {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json',
                },
                body: JSON.stringify(newTodo),
            });
            if (!response.ok) {
                throw new Error('í•­ëª© ì¶”ê°€ì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤.');
            }
            todoInput.value = ''; // ì…ë ¥ í•„ë“œ ì´ˆê¸°í™”
            fetchTodos(); // ëª©ë¡ ìƒˆë¡œê³ ì¹¨
        } catch (error) {
            console.error('Add Error:', error);
        }
    };

    // (UPDATE) To-Do í•­ëª©ì˜ ì™„ë£Œ ìƒíƒœë¥¼ í† ê¸€
    const toggleComplete = async (todo) => {
        const updatedTodo = {
            ...todo,
            completed: !todo.completed
        };

        try {
            const response = await fetch(`${apiUrl}/${todo.id}`, {
                method: 'PUT',
                headers: {
                    'Content-Type': 'application/json',
                },
                body: JSON.stringify(updatedTodo),
            });
            if (!response.ok) {
                throw new Error('ìƒíƒœ ì—…ë°ì´íŠ¸ì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤.');
            }
            fetchTodos(); // ëª©ë¡ ìƒˆë¡œê³ ì¹¨
        } catch (error) {
            console.error('Update Error:', error);
        }
    };

    // (DELETE) To-Do í•­ëª© ì‚­ì œ
    const deleteTodo = async (id) => {
        try {
            const response = await fetch(`${apiUrl}/${id}`, {
                method: 'DELETE',
            });
            if (!response.ok) {
                throw new Error('ì‚­ì œì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤.');
            }
            fetchTodos(); // ëª©ë¡ ìƒˆë¡œê³ ì¹¨
        } catch (error) {
            console.error('Delete Error:', error);
        }
    };

    // ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆ ì„¤ì •
    addBtn.addEventListener('click', addTodo);
    todoInput.addEventListener('keypress', (e) => {
        if (e.key === 'Enter') {
            addTodo();
        }
    });

    // í˜ì´ì§€ ë¡œë“œ ì‹œ To-Do ëª©ë¡ ê°€ì ¸ì˜¤ê¸°
    fetchTodos();
});
</details>